<!DOCTYPE html>
<html>
    <head>
        <title>DemoApp - Client</title>
    </head>
    <body>
        <h1>Our Ratings</h1>
        <table id="ratingsTable" border="0"></table>
        <p>
            <a href="/">Submit Your Rating</a>
        </p>
        <script>
            window.onload = async function(){
                let ratingsTable = document.getElementById("ratingsTable");
                let response = await fetch('http://localhost:5000/rest/feedbacks/secondary');
                let content = await response.json();
                for(let i in content){
                    let stars = '\u2606'.repeat(content[i].rating);
                    let ratingsTableRow = document.createElement("tr");
                    ratingsTableRow.innerHTML = `<td><b>${content[i].from}</b></td>`
                        + `<td>${stars}</td>`;
                    ratingsTable.appendChild(ratingsTableRow);
                }
            };
        </script>
    </body>
</html>